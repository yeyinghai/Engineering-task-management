# Engineering-task-management
用于工程的任务分解以及下发工程任务安排人员施工，提供报表显示统计任务的完成情况以及工作时长的。
# 页面预览
## 1、登录页面
<img width="948" height="755" alt="image" src="https://github.com/user-attachments/assets/08024523-9df9-4039-aa67-e64025b4b4eb" />

## 2、首页展示
<img width="1388" height="894" alt="image" src="https://github.com/user-attachments/assets/d64acd31-a25a-46c3-b029-fd08a8cf5140" />

## 3、后台展示
<img width="1359" height="895" alt="image" src="https://github.com/user-attachments/assets/1140e6f0-b458-485d-a335-6f27434891a9" />

# 使用说明
# 智能化施工任务管理系统

## 📋 目录
- [项目简介](#项目简介)
- [主要特色](#主要特色)
- [系统要求](#系统要求)
- [快速开始](#快速开始)
- [详细安装指南](#详细安装指南)
- [配置说明](#配置说明)
- [功能使用](#功能使用)
- [常见问题](#常见问题)
- [技术支持](#技术支持)

---

## 项目简介

**智能化施工任务管理系统** 是一个专为建筑施工行业设计的项目管理平台。它提供了一套完整的任务管理、人员管理、进度统计等功能，帮助施工团队高效协作，提升项目管理效率。

### 应用场景
- 🏗️ 建筑工程项目管理
- 👷 施工队伍协调
- 📊 进度跟踪和统计
- 👥 人员工作时间管理
- 📸 现场图片资料管理

---

## 主要特色

### 1. **任务管理** 📝
- 创建、编辑、删除任务
- 支持多级分类（最多4级）
- 任务状态跟踪（未开始、进行中、已完成）
- 任务计时器功能（记录实际工作时间）
- 任务备注和附件管理
- 支持多人协作任务

### 2. **人员管理** 👥
- 员工基本信息管理
- 部门和角色分配
- 工作时间设置（全局和个人）
- 人员可用性管理

### 3. **分类管理** 📂
- 四级分类系统
- 灵活的分类树结构
- 支持自定义分类

### 4. **数据统计** 📊
- 任务统计（待处理、进行中、已完成）
- 人员统计
- 类别分布统计
- 每日工作量统计

### 5. **高级特性** ⚡
- **混合存储模式**：同时支持本地存储和服务器同步
- **离线工作**：网络不稳定时仍可继续工作
- **自动同步**：恢复连接后自动同步数据
- **数据备份**：支持导出/导入功能
- **实时更新**：多用户实时协作

### 6. **用户友好** 🎨
- 响应式设计，支持桌面和移动设备
- 直观的操作界面
- 深色/浅色主题切换
- 完整的中文界面

## 系统要求

### 最低配置
| 组件 | 要求 |
|------|------|
| **Web 服务器** | Apache 或 Nginx |
| **PHP 版本** | 7.3 或以上 |
| **数据库** | MySQL 5.7+ 或 MariaDB 10.2+ |
| **浏览器** | Chrome、Firefox、Safari、Edge（最新版本） |
| **内存** | 512MB（推荐 1GB） |
| **磁盘** | 最少 100MB 可用空间 |

### 推荐配置
| 组件 | 推荐 |
|------|------|
| **PHP 版本** | 8.0 或以上 |
| **数据库** | MySQL 8.0+ 或 MariaDB 10.5+ |
| **浏览器** | 最新版本 Chrome 或 Firefox |
| **内存** | 2GB 或以上 |
| **磁盘** | SSD，至少 500MB 可用空间 |

### 所需 PHP 扩展
- `mysqli` 或 `pdo_mysql` - 数据库连接
- `json` - JSON 处理
- `curl` - HTTP 请求（可选）
- `zip` - 文件压缩（可选）

---

## 快速开始

### 方式一：在线一键安装（推荐）

1. **上传文件到服务器**
   ```bash
   # 将项目文件上传到 Web 根目录
   # 例如：/home/user/public_html/todolist
   ```

2. **配置环境变量**
   ```bash
   # 复制配置文件
   cp .env.example .env.local

   # 编辑 .env.local，填入数据库信息
   nano .env.local
   ```

3. **初始化数据库**
   - 访问：`https://your-domain.com/api/database/install.php`
   - 按照界面提示完成安装
   - 检查所有项目是否都显示 ✓

4. **登录系统**
   - 访问：`https://your-domain.com/login.html`
   - 默认账号：`admin`
   - 默认密码：`admin123`
   - **首次登录后请立即修改密码！**

### 方式二：本地开发环境安装

如果你在本地使用 PhpStudy / XAMPP / Wamp 开发：

1. **克隆或下载项目**
   ```bash
   git clone https://github.com/yeyinghai/Engineering-task-management.git
   # 或直接下载 ZIP 文件
   ```

2. **配置 PHP 环境**
   - 启动 Apache/Nginx
   - 启动 MySQL
   - 确保 PHP 版本 >= 7.3

3. **配置数据库**
   ```env
   # .env.local 文件示例
   DB_HOST=localhost
   DB_PORT=3306
   DB_NAME=todolist
   DB_USERNAME=root
   DB_PASSWORD=your_password
   APP_DEBUG=true
   ```

4. **运行安装向导**
   - 访问：`http://localhost/todolist/api/database/install.php`
   - 完成数据库初始化

5. **开始使用**
   - 访问：`http://localhost/todolist/login.html`

---

## 配置说明

### .env.local 配置项详解

```env
# ========== 应用环境 ==========
APP_ENV=production        # development(开发) 或 production(生产)
APP_DEBUG=false          # true(显示调试信息) 或 false(隐藏调试信息)
APP_URL=https://your-domain.com  # 应用访问地址
APP_NAME=施工任务管理系统  # 应用名称

# ========== 数据库配置 ==========
DB_HOST=localhost        # 数据库主机
DB_PORT=3306            # 数据库端口（MySQL 通常为 3306）
DB_NAME=todolist        # 数据库名称
DB_USERNAME=root        # 数据库用户名
DB_PASSWORD=            # 数据库密码
DB_CHARSET=utf8mb4      # 字符集（保持不变）

# ========== 会话配置 ==========
SESSION_TIMEOUT=1800    # 会话超时时间（秒），30 分钟

# ========== 其他配置 ==========
# 根据需要修改其他项...
```

### 生产环境关键配置

确保生产环境中：

```env
APP_DEBUG=false         # 关闭调试模式
APP_ENV=production      # 设置为生产环境
SESSION_SECURE=true     # 启用安全 cookie
CORS_ORIGINS=https://your-domain.com  # 限制 CORS 源
```

## 功能使用

### 1. 任务管理

#### 创建新任务
1. 点击右下角 **"+ 新建任务"** 按钮
2. 填写任务信息：
   - **标题**：任务名称（必填）
   - **描述**：详细说明
   - **分类**：选择任务类别
   - **指派人员**：选择负责人
3. 点击 **"保存"** 按钮

#### 管理任务
- **编辑**：双击任务或点击编辑按钮
- **删除**：勾选任务，点击删除按钮
- **变更状态**：点击状态按钮切换（未开始 → 进行中 → 已完成）
- **计时**：点击计时器按钮开始记录时间

#### 添加备注
1. 点击任务卡片
2. 在下方的备注区域输入内容
3. 点击 **"添加备注"**

#### 上传图片
1. 点击任务卡片
2. 在图片区域点击上传按钮
3. 选择图片文件
4. 系统自动上传并保存

### 2. 人员管理

#### 添加人员
1. 点击左侧菜单 **"人员管理"**
2. 点击 **"+ 添加人员"** 按钮
3. 填写信息：
   - **姓名**：员工名称（必填）
   - **岗位**：职位
   - **部门**：所属部门
   - **电话**：联系电话
4. 点击 **"保存"**

#### 删除人员
1. 找到要删除的人员
2. 点击右侧删除按钮
3. 确认删除

### 3. 工作时间管理

#### 设置工作时间
1. 点击左侧菜单 **"工作时间"**
2. 设置全局工作时间（对所有人有效）
3. 或为个别员工设置特定时间
4. 点击 **"保存"**

### 4. 数据统计

#### 查看统计信息
1. 点击左侧菜单 **"统计"**
2. 查看各项统计数据：
   - 任务总数及各状态数量
   - 人员总数及部门分布
   - 类别使用统计
   - 今日工作量

#### 导出报表
1. 点击 **"导出"** 按钮
2. 选择导出格式（Excel / PDF）
3. 系统自动生成并下载

---

